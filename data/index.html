<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Node IoT Configuration</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
        }
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #00101c;
            color: white;
            padding: 10px 20px;
        }
        .header h1 {
            margin: 0;
        }
        .tabs {
            display: flex;
            margin-top: 20px;
            border-bottom: 2px solid #ddd;
        }
        .tab {
            padding: 10px 20px;
            cursor: pointer;
            border: 1px solid #ddd;
            border-bottom: none;
            background-color: #f9f9f9;
        }
        .tab.active {
            background-color: white;
            font-weight: bold;
            border-top: 4px solid #00101c;
        }
        .tab-content {
            display: none;
            margin-top: 20px;
        }
        .tab-content.active {
            display: block;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }
        table, th, td {
            border: 1px solid #ddd;
        }
        th, td {
            padding: 10px;
            text-align: left;
        }
        th {
            background-color: #f4f4f4;
        }
        button {
            padding: 5px 10px;
            background-color: #f44336;
            color: white;
            border: none;
            cursor: pointer;
        }
        button:hover {
            background-color: #d32f2f;
        }
    </style>
</head>
<body>
    <div class="header">
        <svg xmlns="http://www.w3.org/2000/svg" xml:space="preserve" width="26.6464mm" height="6.209mm" version="1.1" shape-rendering="geometricPrecision" text-rendering="geometricPrecision" image-rendering="optimizeQuality" fill-rule="evenodd" clip-rule="evenodd" viewBox="0 0 341.95 79.68" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:xodm="http://www.corel.com/coreldraw/odm/2003">
            <g id="Layer_x0020_1">
             <metadata id="CorelCorpID_0Corel-Layer"></metadata>
             <g id="_105553235393408">
              <g>
               <path fill="white" fill-rule="nonzero" d="M98.93 46.66c-0.01,0.23 -0.03,0.45 -0.07,0.68 -0.02,0.14 -0.05,0.28 -0.08,0.42 -0.02,0.11 -0.05,0.22 -0.09,0.33 -0.03,0.12 -0.07,0.24 -0.11,0.35 -0.03,0.11 -0.08,0.23 -0.12,0.34 -0.05,0.12 -0.1,0.24 -0.16,0.37 -1.57,3.38 -5.58,4.83 -8.95,3.26 -3.32,-1.55 -4.79,-5.48 -3.32,-8.83 0.02,-0.05 0.03,-0.09 0.06,-0.13 0.02,-0.04 0.03,-0.07 0.05,-0.1 0.85,-1.77 2.38,-3 4.14,-3.51 0.12,-0.03 0.25,-0.07 0.38,-0.1 0.13,-0.03 0.26,-0.05 0.38,-0.08 0.12,-0.02 0.23,-0.03 0.34,-0.05 0.15,-0.02 0.3,-0.03 0.45,-0.03 0.24,-0.02 0.48,-0.02 0.73,-0.01 0.22,0.01 0.44,0.03 0.66,0.07 0.15,0.02 0.3,0.05 0.45,0.09 0.45,0.11 0.89,0.26 1.32,0.46 2.02,0.95 3.39,2.76 3.82,4.79 0.03,0.13 0.05,0.27 0.07,0.41 0.06,0.42 0.08,0.85 0.06,1.29l-0 0z"></path>
               <path fill="white" fill-rule="nonzero" d="M122.4 60.4c-6.79,14.58 -22.85,21.94 -37.92,18.39 -2.18,-0.51 -4.35,-1.25 -6.45,-2.24 -2.08,-0.97 -4,-2.12 -5.78,-3.43l3.27 -7.01 0.01 0 2.63 -5.64 6.63 -14.23c-0.02,2.81 1.57,5.51 4.28,6.78 2.71,1.27 5.8,0.75 7.93,-1.07l-6.62 14.19c8.11,0.71 16.17,-3.63 19.8,-11.42 3.64,-7.79 1.78,-16.76 -3.98,-22.51 -0.23,-0.24 -0.48,-0.47 -0.73,-0.68 -0.33,-6.49 -2.35,-12.54 -5.63,-17.71 2.17,0.52 4.31,1.26 6.41,2.23 2.11,0.98 4.07,2.16 5.87,3.49 12.41,9.26 17.08,26.3 10.29,40.88l0 0z"></path>
               <path fill="white" fill-rule="nonzero" d="M63.08 29.84c1.19,-1.91 3.31,-3.18 5.72,-3.18 1.02,0 1.99,0.23 2.86,0.63 0.02,0.02 0.05,0.03 0.08,0.04 2.25,1.09 3.79,3.4 3.79,6.06 0,0.93 -0.19,1.82 -0.53,2.62 -0.05,0.12 -0.1,0.22 -0.15,0.33l-0.09 0.2 -0.01 0.02 -1.25 2.68 0 0.02 -0.02 0.02 -6.5 13.94 -0.89 1.91 -2.31 4.94 -0.31 0.68c-0.21,0.42 -0.42,0.85 -0.64,1.25 -0.02,0.04 -0.05,0.09 -0.08,0.13 -0.08,0.14 -0.15,0.28 -0.22,0.41 -0.61,1.1 -1.29,2.17 -2.04,3.19 -0.5,0.7 -1.03,1.37 -1.58,2.02 -0.09,0.12 -0.19,0.23 -0.28,0.34 -0.13,0.16 -0.27,0.31 -0.41,0.47 -0.12,0.12 -0.23,0.24 -0.34,0.37 -6.09,6.6 -14.83,10.73 -24.5,10.73 -4.86,0 -9.47,-1.04 -13.64,-2.91l-0.82 -0.38c-11.18,-5.4 -18.92,-16.86 -18.92,-30.09 0,-4.86 1.04,-9.47 2.91,-13.64l0.38 -0.82c4.46,-9.24 13.05,-16.13 23.37,-18.24l0 0c1.99,-0.41 4.04,-0.64 6.14,-0.67 0.19,0 0.38,0 0.57,0 0.36,0 0.71,0 1.06,0.02l0 0c1.24,0.04 2.46,0.15 3.67,0.32 1.01,0.14 2,0.33 2.98,0.56 0.09,0.02 0.18,0.04 0.27,0.06l0 0c0,0 0.03,0.01 0.05,0.02 0.08,0.02 0.17,0.04 0.25,0.07l0 0c0.05,-0.08 0.1,-0.14 0.15,-0.21 0.05,-0.07 0.1,-0.13 0.15,-0.21 0.01,-0.02 0.02,-0.03 0.03,-0.05 0.21,-0.28 0.42,-0.56 0.63,-0.82 0.17,-0.22 0.35,-0.42 0.52,-0.64 0.02,-0.03 0.06,-0.07 0.09,-0.1 0.16,-0.19 0.32,-0.38 0.49,-0.57 0.05,-0.06 0.1,-0.12 0.15,-0.17 0.15,-0.17 0.3,-0.34 0.46,-0.51 0.26,-0.27 0.51,-0.55 0.77,-0.8 0.19,-0.2 0.39,-0.39 0.59,-0.57 0.3,-0.29 0.61,-0.57 0.92,-0.85 0.16,-0.14 0.32,-0.28 0.49,-0.42 0.52,-0.45 1.05,-0.87 1.6,-1.29 0.25,-0.19 0.5,-0.37 0.75,-0.56 0.22,-0.16 0.44,-0.31 0.66,-0.46 0.12,-0.09 0.25,-0.17 0.38,-0.25 0.18,-0.12 0.37,-0.24 0.55,-0.35 0.02,-0.01 0.03,-0.02 0.05,-0.02 0.22,-0.14 0.44,-0.28 0.66,-0.41 0.31,-0.18 0.64,-0.37 0.96,-0.55 0.27,-0.15 0.53,-0.28 0.8,-0.42 0.02,-0.01 0.05,-0.02 0.07,-0.03 0.56,-0.29 1.14,-0.56 1.72,-0.82 0.3,-0.13 0.59,-0.26 0.89,-0.38 0.86,-0.36 1.75,-0.67 2.65,-0.96 0.03,0 0.06,-0.02 0.09,-0.02 0.3,-0.09 0.59,-0.17 0.89,-0.26 0.04,-0.02 0.09,-0.02 0.14,-0.04 0.25,-0.07 0.5,-0.13 0.75,-0.19 0.07,-0.02 0.14,-0.04 0.21,-0.06 0.28,-0.07 0.57,-0.13 0.85,-0.19 0.32,-0.07 0.65,-0.13 0.98,-0.19 0.32,-0.06 0.65,-0.12 0.98,-0.17 0.36,-0.06 0.72,-0.11 1.09,-0.15 0.3,-0.03 0.6,-0.07 0.9,-0.09 0.31,-0.03 0.64,-0.06 0.96,-0.08 0.02,0 0.04,0 0.07,0 0.31,-0.02 0.63,-0.03 0.95,-0.05l0.08 0c0.33,-0.01 0.66,-0.02 1,-0.02l0.02 0c0.31,0 0.62,0 0.92,0.02 0.31,0 0.61,0.02 0.92,0.03 0.23,0.01 0.47,0.02 0.7,0.05 0.17,0.01 0.35,0.02 0.52,0.05 0.22,0.02 0.42,0.03 0.63,0.06 0.29,0.03 0.57,0.07 0.86,0.11 0.03,0 0.06,0 0.1,0.01 0.22,0.03 0.44,0.06 0.66,0.1 0.19,0.03 0.38,0.06 0.57,0.1 0.26,0.05 0.51,0.09 0.77,0.15 0.07,0.01 0.13,0.02 0.2,0.04 0.21,0.04 0.41,0.09 0.61,0.13 0.05,0.01 0.11,0.02 0.16,0.04 0.23,0.06 0.46,0.12 0.7,0.17 0.27,0.07 0.53,0.14 0.8,0.22 0.53,0.15 1.04,0.31 1.57,0.49 0.12,0.04 0.25,0.08 0.37,0.13 0.18,0.06 0.36,0.12 0.53,0.19 0.27,0.1 0.54,0.2 0.8,0.31 0.22,0.09 0.44,0.17 0.65,0.27 0.18,0.08 0.37,0.16 0.55,0.24 0.08,0.03 0.15,0.06 0.22,0.1 0.08,0.04 0.16,0.08 0.24,0.11 0.03,0.02 0.07,0.03 0.11,0.05 0.04,0.02 0.08,0.03 0.11,0.05 0.16,0.08 0.32,0.15 0.48,0.23 0.15,0.07 0.29,0.14 0.43,0.22 0.48,0.24 0.95,0.5 1.42,0.77 0.22,0.12 0.45,0.26 0.67,0.39 0.27,0.17 0.55,0.34 0.82,0.51 0.41,0.27 0.82,0.55 1.22,0.83 0.45,0.31 0.88,0.64 1.31,0.98 0.2,0.16 0.41,0.32 0.6,0.49 0.2,0.16 0.39,0.32 0.59,0.5 0.21,0.17 0.41,0.37 0.62,0.55 0.4,0.36 0.78,0.73 1.16,1.11 0.19,0.18 0.37,0.38 0.56,0.57 0.19,0.19 0.37,0.39 0.55,0.59 0.37,0.39 0.71,0.8 1.05,1.21 0.16,0.2 0.32,0.39 0.48,0.6 0.01,0.01 0.02,0.02 0.03,0.04 3.59,4.57 6.01,10.09 6.82,16.11 -0.44,-0.24 -0.88,-0.47 -1.33,-0.69 -2.12,-0.99 -4.33,-1.57 -6.54,-1.77 -1.48,-0.14 -2.96,-0.11 -4.41,0.08 -0.66,0.08 -1.32,0.21 -1.97,0.36 -0.04,-0.12 -0.08,-0.23 -0.13,-0.35 -0.05,-0.15 -0.11,-0.3 -0.17,-0.45 -0.03,-0.09 -0.07,-0.18 -0.11,-0.27 -0.08,-0.21 -0.17,-0.41 -0.27,-0.62 -0.02,-0.05 -0.03,-0.09 -0.06,-0.13 -0.07,-0.17 -0.16,-0.34 -0.24,-0.5 -0.08,-0.17 -0.17,-0.33 -0.26,-0.49 -0.05,-0.12 -0.12,-0.22 -0.17,-0.32 -0.05,-0.09 -0.1,-0.17 -0.15,-0.27 -0.11,-0.19 -0.22,-0.38 -0.34,-0.56 -0.05,-0.09 -0.1,-0.17 -0.16,-0.26 -0.09,-0.15 -0.19,-0.3 -0.29,-0.44 -0.08,-0.12 -0.16,-0.24 -0.25,-0.36 -0.28,-0.4 -0.57,-0.79 -0.9,-1.17 -0.09,-0.12 -0.18,-0.23 -0.28,-0.34 -0.12,-0.15 -0.25,-0.28 -0.38,-0.42 -0.08,-0.09 -0.17,-0.19 -0.27,-0.28 -0.1,-0.12 -0.22,-0.23 -0.33,-0.34 -0.11,-0.12 -0.22,-0.23 -0.34,-0.33 -0.22,-0.22 -0.45,-0.42 -0.68,-0.62 -0.19,-0.17 -0.38,-0.33 -0.59,-0.48 -0.18,-0.16 -0.37,-0.3 -0.56,-0.44 -0.06,-0.05 -0.11,-0.09 -0.17,-0.12 -0.2,-0.16 -0.41,-0.3 -0.62,-0.44 -0.02,-0.01 -0.02,-0.02 -0.03,-0.02 -0.26,-0.17 -0.51,-0.33 -0.77,-0.49 -0.19,-0.12 -0.39,-0.23 -0.59,-0.34 -0.07,-0.04 -0.13,-0.08 -0.21,-0.12 0.02,-0.01 0.03,-0.02 0.05,-0.02l-1.38 -0.64c-0.74,-0.33 -1.5,-0.62 -2.28,-0.86 -0.13,-0.04 -0.26,-0.08 -0.39,-0.12 -0.21,-0.06 -0.41,-0.12 -0.62,-0.17 -0.13,-0.03 -0.27,-0.07 -0.41,-0.1 -0.13,-0.04 -0.27,-0.06 -0.41,-0.09 -0.51,-0.11 -1.03,-0.2 -1.56,-0.26 -0.16,-0.02 -0.32,-0.04 -0.49,-0.06 -0.13,-0.02 -0.27,-0.02 -0.4,-0.03 -0.18,-0.02 -0.36,-0.03 -0.54,-0.03 -0.37,-0.02 -0.73,-0.03 -1.09,-0.03 -0.89,0 -1.76,0.06 -2.62,0.17 -0.46,0.06 -0.93,0.14 -1.39,0.23 -0.52,0.11 -1.04,0.24 -1.54,0.38 -0.28,0.08 -0.57,0.17 -0.85,0.27 -0.31,0.11 -0.62,0.22 -0.92,0.34 -0.29,0.12 -0.57,0.24 -0.86,0.37 -0.16,0.08 -0.31,0.15 -0.47,0.22 -0.28,0.13 -0.56,0.27 -0.82,0.42 -0.01,0 -0.02,0.01 -0.03,0.02 -0.28,0.16 -0.56,0.31 -0.84,0.48 -0.4,0.24 -0.79,0.5 -1.17,0.77 -0.93,0.66 -1.8,1.4 -2.6,2.21 -0.22,0.22 -0.44,0.46 -0.66,0.69 -0.14,0.16 -0.28,0.31 -0.42,0.48 -0.3,0.35 -0.58,0.71 -0.85,1.09 -0.1,0.14 -0.21,0.28 -0.31,0.43 -0.29,0.41 -0.56,0.84 -0.82,1.28 -0.13,0.22 -0.26,0.44 -0.37,0.66 -0.12,0.22 -0.24,0.45 -0.35,0.67l-0.05 0.1 -0.21 0.46 -0.08 0.17 -3.16 6.77 -0.51 1.1 -7.3 15.65 -0.17 0.36c-0.53,1.07 -1.34,1.99 -2.34,2.65 -1.05,0.7 -2.33,1.11 -3.7,1.11 -3.72,0 -6.74,-3.02 -6.74,-6.74 0,-0.93 0.19,-1.82 0.53,-2.62 0.05,-0.12 0.1,-0.24 0.16,-0.35l4.74 -10.16 3.12 -6.7c-0.6,-0.06 -1.2,-0.08 -1.81,-0.08 -0.21,0 -0.43,0 -0.64,0.02 -1.71,0.05 -3.37,0.32 -4.94,0.78 -5.45,1.59 -9.93,5.45 -12.36,10.49l-0.22 0.46c-1.13,2.49 -1.75,5.26 -1.75,8.16 0,8.06 4.82,15.02 11.73,18.15 2.5,1.13 5.27,1.76 8.18,1.76 4.15,0 8.01,-1.28 11.2,-3.46 0.34,-0.23 0.67,-0.47 1,-0.73 0.03,-0.02 0.08,-0.06 0.11,-0.09 0.09,-0.06 0.17,-0.13 0.26,-0.21 0.79,-0.64 1.53,-1.33 2.21,-2.09l0 0c2.14,-2.33 3.43,-5.21 5.73,-10.19 0.28,-0.61 0.57,-1.24 0.89,-1.91l6.34 -13.58 0.01 -0.02 0.01 -0.03 1.44 -3.09 0.5 -0.96 0.02 -0.01z"></path>
               <path fill="white" fill-rule="nonzero" d="M98.3 49.13c-1.57,3.38 -5.58,4.83 -8.95,3.26 -3.37,-1.57 -4.83,-5.58 -3.26,-8.96 1.57,-3.37 5.58,-4.83 8.96,-3.25 3.37,1.57 4.83,5.58 3.26,8.95z"></path>
               <path fill="white" fill-rule="nonzero" d="M92.21 39.55c-0.12,0.01 -0.25,0.01 -0.38,0.02 0.24,-0.02 0.48,-0.02 0.73,-0.01 -0.12,-0.01 -0.23,-0.01 -0.35,-0.01l0 0z"></path>
              </g>
              <g>
               <g>
                <g>
                 <path fill="white" fill-rule="nonzero" d="M238.63 8.9c-0.08,0 -0.17,0 -0.26,0l0.5 0c-0.08,0 -0.17,0 -0.25,0z"></path>
                 <path fill="white" fill-rule="nonzero" d="M236.86 40.6c0,-3.13 0.58,-6.05 1.75,-8.75 1.17,-2.7 2.77,-5.07 4.8,-7.1 2.03,-2.03 4.42,-3.63 7.15,-4.8 2.73,-1.17 5.63,-1.75 8.7,-1.75 3.06,0 6.05,0.59 8.75,1.75 2.7,1.17 5.08,2.77 7.15,4.8 2.07,2.04 3.69,4.4 4.85,7.1 1.17,2.7 1.75,5.62 1.75,8.75 0,3.13 -0.59,5.96 -1.75,8.7 -1.17,2.73 -2.78,5.14 -4.85,7.2 -2.06,2.07 -4.45,3.69 -7.15,4.85 -2.7,1.17 -5.62,1.75 -8.75,1.75 -3.13,0 -5.96,-0.58 -8.7,-1.75 -2.73,-1.17 -5.12,-2.78 -7.15,-4.85 -2.04,-2.06 -3.63,-4.46 -4.8,-7.2 -1.17,-2.73 -1.75,-5.63 -1.75,-8.7zm8.8 0c0,1.87 0.35,3.63 1.05,5.3 0.7,1.67 1.67,3.12 2.9,4.35 1.23,1.24 2.68,2.2 4.35,2.9 1.67,0.7 3.44,1.05 5.3,1.05 1.86,0 3.63,-0.35 5.3,-1.05 1.67,-0.7 3.12,-1.66 4.35,-2.9 1.24,-1.24 2.2,-2.68 2.9,-4.35 0.7,-1.66 1.05,-3.43 1.05,-5.3 0,-1.86 -0.35,-3.61 -1.05,-5.25 -0.7,-1.63 -1.66,-3.06 -2.9,-4.3 -1.24,-1.23 -2.69,-2.2 -4.35,-2.9 -1.66,-0.7 -3.43,-1.05 -5.3,-1.05 -1.86,0 -3.63,0.35 -5.3,1.05 -1.67,0.7 -3.12,1.67 -4.35,2.9 -1.24,1.24 -2.2,2.67 -2.9,4.3 -0.7,1.64 -1.05,3.38 -1.05,5.25z"></path>
                 <g>
                  <path fill="white" fill-rule="nonzero" d="M189.7 14.6c-0.47,1.1 -0.7,2.26 -0.7,3.51 0,1.25 0.24,2.43 0.7,3.54 0.46,1.11 1.11,2.08 1.94,2.91 0.82,0.82 1.79,1.47 2.9,1.94 1.11,0.47 2.29,0.7 3.54,0.7l18.06 0c2.45,0 4.77,0.47 6.96,1.4 2.19,0.93 4.09,2.22 5.71,3.84 1.1,1.1 2.04,2.32 2.82,3.66l0 0c0,0 0,0.01 0,0.01 0.37,0.64 0.71,1.31 1.01,2 0.93,2.15 1.4,4.49 1.4,6.99 0,2.51 -0.46,4.77 -1.4,6.96 -0.32,0.74 -0.67,1.44 -1.07,2.12 0,0 0,0.01 -0.01,0.01 -0.77,1.33 -1.69,2.54 -2.76,3.62 -1.63,1.65 -3.53,2.95 -5.72,3.88 -0.37,0.16 -0.74,0.31 -1.13,0.44 -1.85,0.64 -3.79,0.96 -5.83,0.96l-35.99 0 0 -8.9 35.99 0c1.25,0 2.43,-0.23 3.54,-0.7 1.11,-0.47 2.08,-1.11 2.9,-1.94 0.82,-0.83 1.47,-1.79 1.94,-2.91 0.47,-1.11 0.7,-2.29 0.7,-3.54 0,-1.25 -0.24,-2.41 -0.7,-3.51 -0.46,-1.09 -1.11,-2.05 -1.94,-2.87 -0.82,-0.82 -1.79,-1.47 -2.9,-1.94 -0.96,-0.4 -1.97,-0.63 -3.03,-0.68 -0.06,0 -0.12,-0.01 -0.19,-0.01 -0.02,0 -0.05,0 -0.06,0 -0.09,0 -0.17,0 -0.26,0 -0.08,0 -0.17,0 -0.25,0l-18.19 0c-1.9,-0.04 -3.71,-0.36 -5.45,-0.96 -0.38,-0.13 -0.75,-0.27 -1.13,-0.44 -2.19,-0.93 -4.09,-2.22 -5.71,-3.88 -1.07,-1.09 -2,-2.3 -2.76,-3.62 0,0 0,-0.01 -0.01,-0.01 -0.4,-0.68 -0.75,-1.39 -1.07,-2.12 -0.93,-2.18 -1.4,-4.5 -1.4,-6.96 0,-2.45 0.46,-4.84 1.4,-6.99 0.3,-0.7 0.64,-1.36 1.01,-2 0,0 0.01,-0.01 0.01,-0.01 0.78,-1.35 1.72,-2.56 2.82,-3.66 1.63,-1.62 3.53,-2.91 5.71,-3.84 2.18,-0.93 4.5,-1.4 6.96,-1.4l35.99 0 0 8.9 -35.73 0c-0.08,0 -0.17,0 -0.25,0 -0.08,0 -0.17,0 -0.26,0 -0.09,0 -0.17,0.01 -0.26,0.01 -1.06,0.05 -2.07,0.28 -3.03,0.69 -1.11,0.47 -2.08,1.11 -2.9,1.94 -0.82,0.82 -1.47,1.78 -1.94,2.87l0 0z"></path>
                  <path fill="white" fill-rule="nonzero" d="M216.46 36.09l-18.38 0c-0.13,0 -0.26,0 -0.38,0l18.19 0c0.08,0 0.17,0 0.25,0 0.08,0 0.17,0 0.26,0 0.02,0 0.05,0 0.06,0l0.01 0z"></path>
                 </g>
                 <path fill="white" fill-rule="nonzero" d="M302.05 9.95c-1.67,0.7 -3.12,1.67 -4.35,2.9 -1.24,1.24 -2.2,2.67 -2.9,4.3 -0.7,1.64 -1.05,3.38 -1.05,5.25l0 4.6 18 0 0 8.9 -18 0 0 27 -8.9 0 0 -40.49c0,-3.13 0.58,-6.05 1.75,-8.75 1.17,-2.7 2.78,-5.07 4.85,-7.1 2.06,-2.03 4.47,-3.63 7.2,-4.8 2.73,-1.17 5.63,-1.75 8.7,-1.75l4.4 0 0 8.9 -4.4 0c-1.87,0 -3.63,0.35 -5.3,1.05l0 -0.01z"></path>
                 <path fill="white" fill-rule="nonzero" d="M341.95 54l0 8.9 -4.4 0c-3.07,0 -5.97,-0.58 -8.7,-1.75 -2.73,-1.17 -5.14,-2.78 -7.2,-4.85 -2.07,-2.06 -3.69,-4.47 -4.85,-7.2 -1.17,-2.73 -1.75,-5.63 -1.75,-8.7l0 -40.4 8.9 0 0 27 18 0 0 8.9 -18 0 0 4.5c0,1.87 0.35,3.63 1.05,5.3 0.7,1.67 1.66,3.12 2.9,4.35 1.23,1.24 2.68,2.2 4.35,2.9 1.66,0.7 3.43,1.05 5.3,1.05l4.4 0z"></path>
                </g>
                <polygon fill="white" fill-rule="nonzero" points="162.61,42.66 179.73,42.66 179.73,47.21 162.61,47.21 "></polygon>
                <g>
                 <path fill="#FFCE09" fill-rule="nonzero" d="M157.4 23.53c0,-2.88 -2.25,-5.33 -5.23,-5.33 -2.79,0 -5.09,2.59 -5.09,5.28 0,3.03 2.15,5.42 5.23,5.42 2.88,0 5.09,-2.54 5.09,-5.38z"></path>
                 <path fill="#FFCE09" fill-rule="nonzero" d="M162.41 59.15c-3.61,1.37 -6.5,1.23 -8.44,0.77 -1.31,-0.16 -2.18,-0.59 -2.76,-1.1l-0.01 0c-1.15,-1.04 -1.14,-2.45 -1.14,-2.9 0,-0.59 0.31,-2.05 0.46,-2.63l5.08 -18c0.05,-0.2 0.39,-1.47 0.39,-1.67 0,-0.39 -0.05,-0.63 -0.44,-0.63 -0.3,0 -0.78,0.2 -1.07,0.34 -2.25,0.74 -7.09,1.22 -9.53,1.22l-1.86 0c-0.1,0.54 -0.39,1.37 -0.39,1.9 0,1.32 2.25,0.29 2.25,2.4 0,0.34 -0.05,0.59 -0.2,0.98l-2.7 10.22c-0.3,1.22 -0.67,2.64 -0.73,3.86 -0.38,7.39 5.95,8.84 8.76,9.11 3.23,0.31 7.79,-0.31 10.22,-1.18 0.79,-0.28 1.47,-0.56 2.12,-0.86l0 -1.83 -0.01 0z"></path>
                </g>
               </g>
               <g>
                <path fill="white" fill-rule="nonzero" d="M143.27 77.94l4.66 0 0 1.59 -6.63 0 0 -8.56 6.47 0 0 1.59 -4.5 0 0 5.38 0.01 0zm-0.15 -3.53l4.12 0 0 1.56 -4.12 0 0 -1.56z"></path>
                <polygon fill="white" fill-rule="nonzero" points="149.51,79.53 149.51,70.96 151.15,70.96 156.2,77.13 155.41,77.13 155.41,70.96 157.36,70.96 157.36,79.53 155.72,79.53 150.66,73.36 151.46,73.36 151.46,79.53 149.5,79.53 "></polygon>
                <path fill="white" fill-rule="nonzero" d="M163.52 79.67c-0.68,0 -1.3,-0.11 -1.87,-0.32 -0.57,-0.21 -1.06,-0.52 -1.48,-0.92 -0.42,-0.4 -0.74,-0.87 -0.98,-1.4 -0.23,-0.53 -0.35,-1.13 -0.35,-1.78 0,-0.64 0.12,-1.24 0.35,-1.77 0.23,-0.54 0.56,-1 0.99,-1.4 0.42,-0.4 0.92,-0.71 1.49,-0.92 0.57,-0.22 1.2,-0.33 1.89,-0.33 0.76,0 1.44,0.13 2.05,0.38 0.61,0.26 1.12,0.62 1.54,1.1l-1.26 1.17c-0.32,-0.33 -0.66,-0.58 -1.03,-0.74 -0.37,-0.16 -0.77,-0.24 -1.21,-0.24 -0.41,0 -0.78,0.07 -1.13,0.2 -0.34,0.13 -0.64,0.33 -0.89,0.57 -0.25,0.24 -0.44,0.53 -0.57,0.87 -0.13,0.34 -0.2,0.71 -0.2,1.11 0,0.41 0.07,0.75 0.2,1.1 0.13,0.34 0.32,0.63 0.57,0.88 0.25,0.24 0.54,0.44 0.88,0.57 0.34,0.14 0.71,0.21 1.12,0.21 0.41,0 0.77,-0.06 1.14,-0.2 0.37,-0.13 0.73,-0.35 1.08,-0.65l1.13 1.43c-0.48,0.36 -1.02,0.63 -1.62,0.81 -0.61,0.18 -1.22,0.27 -1.83,0.27l-0.01 -0.01zm1.65 -1.35l0 -3.21 1.81 0 0 3.48 -1.81 -0.26 0 -0.01z"></path>
                <path fill="white" fill-rule="nonzero" d="M167.69 79.53l3.81 -8.56 1.96 0 3.84 8.56 -2.08 0 -3.15 -7.56 0.79 0 -3.14 7.56 -2.03 0zm1.92 -1.83l0.5 -1.5 4.43 0 0.52 1.5 -5.44 0z"></path>
                <path fill="white" fill-rule="nonzero" d="M182.2 79.67c-0.68,0 -1.3,-0.11 -1.87,-0.32 -0.57,-0.21 -1.06,-0.52 -1.48,-0.92 -0.42,-0.4 -0.74,-0.87 -0.98,-1.4 -0.23,-0.53 -0.35,-1.13 -0.35,-1.78 0,-0.64 0.12,-1.24 0.35,-1.77 0.23,-0.54 0.56,-1 0.99,-1.4 0.42,-0.4 0.92,-0.71 1.49,-0.92 0.57,-0.22 1.2,-0.33 1.89,-0.33 0.76,0 1.44,0.13 2.05,0.38 0.61,0.26 1.12,0.62 1.54,1.1l-1.26 1.17c-0.32,-0.33 -0.66,-0.58 -1.03,-0.74 -0.37,-0.16 -0.77,-0.24 -1.21,-0.24 -0.41,0 -0.78,0.07 -1.13,0.2 -0.34,0.13 -0.64,0.33 -0.89,0.57 -0.25,0.24 -0.44,0.53 -0.57,0.87 -0.13,0.34 -0.2,0.71 -0.2,1.11 0,0.41 0.07,0.75 0.2,1.1 0.13,0.34 0.32,0.63 0.57,0.88 0.25,0.24 0.54,0.44 0.88,0.57 0.34,0.14 0.71,0.21 1.12,0.21 0.41,0 0.77,-0.06 1.14,-0.2 0.37,-0.13 0.73,-0.35 1.08,-0.65l1.13 1.43c-0.47,0.36 -1.02,0.63 -1.62,0.81 -0.61,0.18 -1.23,0.27 -1.83,0.27l-0.01 -0.01zm1.65 -1.35l0 -3.21 1.81 0 0 3.48 -1.81 -0.26 0 -0.01z"></path>
                <path fill="white" fill-rule="nonzero" d="M189.46 77.94l4.66 0 0 1.59 -6.63 0 0 -8.56 6.47 0 0 1.59 -4.5 0 0 5.38 0.01 0zm-0.15 -3.53l4.12 0 0 1.56 -4.12 0 0 -1.56z"></path>
                <polygon fill="white" fill-rule="nonzero" points="195.7,79.53 195.7,70.96 197.34,70.96 200.98,77 200.11,77 203.69,70.96 205.34,70.96 205.34,79.53 203.49,79.53 203.47,73.82 203.84,73.82 200.95,78.61 200.07,78.61 197.15,73.82 197.55,73.82 197.55,79.53 195.71,79.53 "></polygon>
                <path fill="white" fill-rule="nonzero" d="M209.36 77.94l4.66 0 0 1.59 -6.63 0 0 -8.56 6.47 0 0 1.59 -4.5 0 0 5.38 0.01 0zm-0.15 -3.53l4.12 0 0 1.56 -4.12 0 0 -1.56z"></path>
                <polygon fill="white" fill-rule="nonzero" points="215.59,79.53 215.59,70.96 217.23,70.96 222.28,77.13 221.49,77.13 221.49,70.96 223.44,70.96 223.44,79.53 221.8,79.53 216.75,73.36 217.54,73.36 217.54,79.53 215.59,79.53 "></polygon>
                <polygon fill="white" fill-rule="nonzero" points="227.25,79.53 227.25,72.58 224.51,72.58 224.51,70.97 231.97,70.97 231.97,72.58 229.23,72.58 229.23,79.53 "></polygon>
                <path fill="white" fill-rule="nonzero" d="M239.18 79.67c-0.62,0 -1.18,-0.1 -1.67,-0.31 -0.49,-0.2 -0.88,-0.48 -1.17,-0.83 -0.28,-0.35 -0.43,-0.75 -0.43,-1.21 0,-0.42 0.09,-0.81 0.28,-1.15 0.19,-0.34 0.49,-0.66 0.89,-0.95 0.41,-0.29 0.93,-0.59 1.57,-0.87 0.46,-0.21 0.81,-0.4 1.07,-0.56 0.26,-0.16 0.44,-0.32 0.55,-0.46 0.11,-0.15 0.16,-0.3 0.16,-0.46 0,-0.2 -0.07,-0.37 -0.21,-0.5 -0.15,-0.13 -0.35,-0.2 -0.63,-0.2 -0.3,0 -0.52,0.08 -0.68,0.22 -0.16,0.15 -0.24,0.34 -0.24,0.56 0,0.12 0.02,0.24 0.08,0.36 0.05,0.12 0.15,0.26 0.28,0.41 0.13,0.15 0.33,0.35 0.58,0.59l4.51 4.17 -1.03 1.21 -4.99 -4.64c-0.28,-0.26 -0.5,-0.49 -0.67,-0.72 -0.17,-0.23 -0.3,-0.45 -0.38,-0.68 -0.09,-0.23 -0.13,-0.45 -0.13,-0.68 0,-0.42 0.11,-0.78 0.34,-1.1 0.23,-0.32 0.54,-0.56 0.94,-0.74 0.4,-0.17 0.86,-0.26 1.39,-0.26 0.52,0 0.94,0.08 1.31,0.24 0.37,0.16 0.65,0.38 0.86,0.68 0.21,0.3 0.31,0.64 0.31,1.05 0,0.35 -0.09,0.68 -0.27,0.98 -0.17,0.3 -0.46,0.59 -0.84,0.84 -0.38,0.26 -0.88,0.53 -1.48,0.79 -0.41,0.19 -0.74,0.37 -0.98,0.55 -0.24,0.18 -0.42,0.35 -0.53,0.53 -0.1,0.17 -0.16,0.38 -0.16,0.6 0,0.2 0.06,0.38 0.19,0.54 0.12,0.16 0.3,0.29 0.53,0.37 0.23,0.08 0.5,0.13 0.82,0.13 0.5,0 0.95,-0.12 1.36,-0.35 0.41,-0.23 0.77,-0.57 1.06,-1.03 0.3,-0.46 0.5,-1.01 0.63,-1.67l1.53 0.46c-0.16,0.83 -0.46,1.56 -0.91,2.16 -0.45,0.61 -0.99,1.08 -1.64,1.42 -0.65,0.34 -1.37,0.5 -2.16,0.5l-0.01 -0.01z"></path>
                <path fill="white" fill-rule="nonzero" d="M253.02 79.67c-0.68,0 -1.3,-0.11 -1.87,-0.33 -0.57,-0.22 -1.07,-0.53 -1.49,-0.93 -0.42,-0.4 -0.75,-0.87 -0.99,-1.4 -0.23,-0.54 -0.35,-1.13 -0.35,-1.76 0,-0.64 0.12,-1.24 0.35,-1.77 0.23,-0.53 0.56,-1 0.99,-1.4 0.42,-0.4 0.92,-0.71 1.49,-0.93 0.57,-0.22 1.19,-0.33 1.86,-0.33 0.67,0 1.3,0.11 1.86,0.32 0.57,0.21 1.06,0.52 1.49,0.92 0.42,0.4 0.75,0.87 0.99,1.4 0.23,0.54 0.35,1.13 0.35,1.78 0,0.64 -0.12,1.22 -0.35,1.77 -0.23,0.54 -0.56,1.02 -0.99,1.41 -0.42,0.4 -0.92,0.71 -1.49,0.92 -0.57,0.22 -1.18,0.33 -1.85,0.33l0.01 -0zm-0.01 -1.68c0.38,0 0.74,-0.07 1.05,-0.2 0.33,-0.13 0.6,-0.32 0.85,-0.57 0.24,-0.25 0.44,-0.54 0.57,-0.87 0.13,-0.33 0.2,-0.7 0.2,-1.11 0,-0.41 -0.07,-0.78 -0.2,-1.11 -0.13,-0.33 -0.32,-0.62 -0.57,-0.87 -0.24,-0.25 -0.53,-0.44 -0.85,-0.57 -0.32,-0.13 -0.67,-0.2 -1.05,-0.2 -0.38,0 -0.74,0.07 -1.07,0.2 -0.33,0.13 -0.61,0.33 -0.85,0.57 -0.24,0.25 -0.43,0.54 -0.56,0.87 -0.13,0.33 -0.2,0.7 -0.2,1.11 0,0.41 0.07,0.78 0.2,1.11 0.13,0.33 0.32,0.62 0.56,0.87 0.24,0.25 0.52,0.44 0.85,0.57 0.32,0.13 0.68,0.2 1.07,0.2z"></path>
                <path fill="white" fill-rule="nonzero" d="M259.19 79.53l0 -8.56 3.71 0c0.77,0 1.43,0.12 1.99,0.37 0.56,0.25 0.98,0.6 1.28,1.07 0.3,0.46 0.45,1.02 0.45,1.65 0,0.64 -0.15,1.2 -0.45,1.66 -0.3,0.46 -0.73,0.82 -1.28,1.07 -0.56,0.25 -1.21,0.38 -1.99,0.38l-2.62 0 0.91 -0.89 0 3.26 -2 0 0 0.01zm2 -3.03l-0.9 -0.94 2.51 0c0.6,0 1.06,-0.13 1.37,-0.39 0.31,-0.26 0.46,-0.63 0.46,-1.1 0,-0.48 -0.16,-0.84 -0.46,-1.1 -0.31,-0.25 -0.77,-0.38 -1.37,-0.38l-2.51 0 0.91 -0.94 0 4.86 -0 -0.01z"></path>
                <polygon fill="white" fill-rule="nonzero" points="269.56,79.53 269.56,72.58 266.82,72.58 266.82,70.97 274.28,70.97 274.28,72.58 271.54,72.58 271.54,79.53 269.57,79.53 "></polygon>
                <polygon fill="white" fill-rule="nonzero" points="275.35,79.53 275.35,70.96 277.34,70.96 277.34,79.53 "></polygon>
                <polygon fill="white" fill-rule="nonzero" points="279.35,79.53 279.35,70.96 280.99,70.96 284.64,77 283.76,77 287.34,70.96 288.99,70.96 288.99,79.53 287.15,79.53 287.12,73.82 287.49,73.82 284.61,78.61 283.72,78.61 280.8,73.82 281.2,73.82 281.2,79.53 "></polygon>
                <polygon fill="white" fill-rule="nonzero" points="291.04,79.53 291.04,70.96 293.03,70.96 293.03,79.53 "></polygon>
                <polygon fill="white" fill-rule="nonzero" points="294.5,79.53 294.5,78.24 299.8,71.86 300.04,72.58 294.6,72.58 294.6,70.97 301.8,70.97 301.8,72.25 296.52,78.63 296.27,77.91 301.98,77.91 301.98,79.53 "></polygon>
                <path fill="white" fill-rule="nonzero" d="M302.13 79.53l3.81 -8.56 1.96 0 3.84 8.56 -2.08 0 -3.15 -7.56 0.79 0 -3.14 7.56 -2.03 0zm1.92 -1.83l0.5 -1.5 4.43 0 0.52 1.5 -5.44 0z"></path>
                <polygon fill="white" fill-rule="nonzero" points="313.97,79.53 313.97,72.58 311.23,72.58 311.23,70.97 318.69,70.97 318.69,72.58 315.96,72.58 315.96,79.53 313.98,79.53 "></polygon>
                <polygon fill="white" fill-rule="nonzero" points="319.76,79.53 319.76,70.96 321.75,70.96 321.75,79.53 "></polygon>
                <path fill="white" fill-rule="nonzero" d="M327.93 79.67c-0.68,0 -1.3,-0.11 -1.87,-0.33 -0.57,-0.22 -1.07,-0.53 -1.49,-0.93 -0.42,-0.4 -0.75,-0.87 -0.99,-1.4 -0.23,-0.54 -0.35,-1.13 -0.35,-1.76 0,-0.64 0.12,-1.24 0.35,-1.77 0.23,-0.53 0.56,-1 0.99,-1.4 0.42,-0.4 0.92,-0.71 1.49,-0.93 0.57,-0.22 1.19,-0.33 1.86,-0.33 0.67,0 1.3,0.11 1.86,0.32 0.57,0.21 1.06,0.52 1.48,0.92 0.42,0.4 0.75,0.87 0.99,1.4 0.23,0.54 0.35,1.13 0.35,1.78 0,0.64 -0.12,1.22 -0.35,1.77 -0.23,0.54 -0.56,1.02 -0.99,1.41 -0.42,0.4 -0.92,0.71 -1.48,0.92 -0.57,0.22 -1.18,0.33 -1.85,0.33l0.01 -0zm-0.01 -1.68c0.38,0 0.74,-0.07 1.06,-0.2 0.32,-0.13 0.6,-0.32 0.85,-0.57 0.24,-0.25 0.44,-0.54 0.57,-0.87 0.13,-0.33 0.2,-0.7 0.2,-1.11 0,-0.41 -0.07,-0.78 -0.2,-1.11 -0.13,-0.33 -0.32,-0.62 -0.57,-0.87 -0.24,-0.25 -0.53,-0.44 -0.85,-0.57 -0.32,-0.13 -0.67,-0.2 -1.06,-0.2 -0.38,0 -0.74,0.07 -1.07,0.2 -0.32,0.13 -0.61,0.33 -0.85,0.57 -0.24,0.25 -0.43,0.54 -0.56,0.87 -0.13,0.33 -0.2,0.7 -0.2,1.11 0,0.41 0.07,0.78 0.2,1.11 0.13,0.33 0.32,0.62 0.56,0.87 0.24,0.25 0.52,0.44 0.85,0.57 0.32,0.13 0.68,0.2 1.07,0.2z"></path>
                <polygon fill="white" fill-rule="nonzero" points="334.09,79.53 334.09,70.96 335.73,70.96 340.78,77.13 339.98,77.13 339.98,70.96 341.94,70.96 341.94,79.53 340.3,79.53 335.24,73.36 336.04,73.36 336.04,79.53 334.08,79.53 "></polygon>
               </g>
              </g>
             </g>
            </g>
           </svg>
        <h1>Wireless IoT Configuration</h1>
    </div>
    <div class="tabs">
        <div class="tab active" onclick="showTab('meshConfig')">Mesh Network</div> 
        <div class="tab" onclick="showTab('modbusConfig')">Modbus Configuration</div>
        <div class="tab" onclick="showTab('wifiConfig')">WiFi Configuration</div>
        <div class="tab" onclick="showTab('mappingData')">Mapping Data</div>
        <!-- <div class="tab" onclick="showTab('loraConfig')">LoRa E32 Configuration</div>
        <div class="tab" onclick="showTab('loraRYConfig')">LoRa RY Configuration</div> -->
        <div class="tab" onclick="showTab('fileManager')">File Manager</div>
    </div>
<CENTER>
    
    <div id="mappingData" class="tab-content">
        <h2>Mapping Data</h2>
        <div style="margin-bottom: 20px;">
            <div style="display:none">
                <label for="jsonMappingData" style="display: block; margin-bottom: 10px;">JSON Mapping Data:</label>
                <textarea id="jsonMappingData" name="jsonMappingData" placeholder="Enter JSON data here" style="width: 100%; height: 150px; resize: vertical;"></textarea>
                <textarea id="jsonMappingDatas" name="jsonMappingDatas" placeholder="Enter JSON data here" style=" width: 100%; height: 150px; resize: vertical;"></textarea>
                <button type="button" onclick="saveDataMapping()" >Save Mapping Data</button>
                <button type="button" onclick="loadDataMapping()" >load Mapping Data</button>
                <button type="button" onclick="submitMappingData()">Submit Mapping Data</button>
            </div>
            
            </div>
            <div id="nodeDataTables"></div>
            <!-- Data tables for nodes will be dynamically generated here -->
        </div>
    
        <script>

            function submitMappingData() {
                const jsonData = document.getElementById('jsonMappingData').value;
                loadNodeDashboard(jsonData);
                try {
                    const parsedData = JSON.parse(jsonData);
                    console.log('Submitting Mapping Data:', parsedData);

                    // fetch('/submit-mapping-data', {
                    //     method: 'POST',
                    //     headers: {
                    //         'Content-Type': 'application/json'
                    //     },
                    //     body: JSON.stringify(parsedData)
                    // })
                    // .then(response => response.json())
                    // .then(data => {
                    //     console.log('Response from server:', data);
                    //     alert(data.status || 'Mapping data submitted successfully!');
                    // })
                    // .catch(error => console.error('Error submitting mapping data:', error));
                } catch (error) {
                    alert('Invalid JSON format. Please correct it and try again.');
                    console.error('JSON Parsing Error:', error);
                }
            }
        </script>

    <div id="loraRYConfig" class="tab-content">
        <h2>LoRa RY Module Configuration</h2>
        <form id="loraRYConfigForm">
            <div style="margin-bottom: 10px;">
                <label for="LoRaEnable" style="display: inline-block; width: 150px;">Enable LoRa:</label>
                <input type="checkbox" id="LoRaEnable" name="LoRaEnable">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="ryMode" style="display: inline-block; width: 150px;">Mode:</label>
                <select id="ryMode" name="ryMode" style="width: 200px;">
                    <option value="0">Transceiver Mode</option>
                    <option value="1">Sleep Mode</option>
                    <option value="2">Smart Power Saving Mode</option>
                </select>
            </div>
            <div style="margin-bottom: 10px;">
                <label for="ryRxTime" style="display: inline-block; width: 150px;">RX Time (ms):</label>
                <input type="number" id="ryRxTime" name="ryRxTime" placeholder="Enter RX Time" style="width: 200px;" min="30" max="60000">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="ryLowSpeedTime" style="display: inline-block; width: 150px;">Low Speed Time (ms):</label>
                <input type="number" id="ryLowSpeedTime" name="ryLowSpeedTime" placeholder="Enter Low Speed Time" style="width: 200px;" min="30" max="60000">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="ryBand" style="display: inline-block; width: 150px;">Frequency Band:</label>
                <input type="number" id="ryBand" name="ryBand" placeholder="Enter Frequency (Hz)" style="width: 200px;" min="490000000" max="915000000">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="ryPower" style="display: inline-block; width: 150px;">Power Level:</label>
                <input type="number" id="ryPower" name="ryPower" placeholder="Enter Power (dBm)" style="width: 200px;" min="0" max="22">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="ryAddress" style="display: inline-block; width: 150px;">Address:</label>
                <input type="number" id="ryAddress" name="ryAddress" placeholder="Enter Address" style="width: 200px;" min="0" max="65535">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="ryNetworkId" style="display: inline-block; width: 150px;">Network ID:</label>
                <input type="number" id="ryNetworkId" name="ryNetworkId" placeholder="Enter Network ID" style="width: 200px;" min="3" max="18">
            </div>
            <button type="button" onclick="submitLoRaRYConfig()">Submit</button>
        </form>
    </div>
    <div id="loraConfig" class="tab-content">
        <h2>LoRa E32 Configuration</h2>
        <form id="loraConfigForm">
            <div style="margin-bottom: 10px;">
                <label for="address" style="display: inline-block; width: 150px;">Address:</label>
                <input type="number" id="address" name="address" placeholder="Enter Address" style="width: 200px;" min="0" max="65535" required>
            </div>
            <div style="margin-bottom: 10px;">
                <label for="uartSpeed" style="display: inline-block; width: 150px;">UART Speed:</label>
                <select id="uartSpeed" name="uartSpeed" style="width: 200px;">
                    <option value="1200_8N1">1200 8N1</option>
                    <option value="2400_8N1">2400 8N1</option>
                    <option value="4800_8N1">4800 8N1</option>
                    <option value="9600_8N1">9600 8N1</option>
                    <option value="19200_8N1">19200 8N1</option>
                    <option value="38400_8N1">38400 8N1</option>
                </select>
            </div>
            <div style="margin-bottom: 10px;">
                <label for="airRate" style="display: inline-block; width: 150px;">Air Data Rate:</label>
                <select id="airRate" name="airRate" style="width: 200px;">
                    <option value="0.3kbps">0.3 kbps</option>
                    <option value="1.2kbps">1.2 kbps</option>
                    <option value="2.4kbps">2.4 kbps</option>
                    <option value="4.8kbps">4.8 kbps</option>
                    <option value="9.6kbps">9.6 kbps</option>
                    <option value="19.2kbps">19.2 kbps</option>
                </select>
            </div>
            <div style="margin-bottom: 10px;">
                <label for="channel" style="display: inline-block; width: 150px;">Channel:</label>
                <input type="number" id="channel" name="channel" placeholder="Enter Channel" style="width: 200px;" min="0" max="30" required>
            </div>
            <div style="margin-bottom: 10px;">
                <label for="transmissionMode" style="display: inline-block; width: 150px;">Transmission Mode:</label>
                <select id="transmissionMode" name="transmissionMode" style="width: 200px;">
                    <option value="fixed">Fixed</option>
                    <option value="transparent">Transparent</option>
                </select>
            </div>
            <div style="margin-bottom: 10px;">
                <label for="pullUp" style="display: inline-block; width: 150px;">Pull Up:</label>
                <input type="checkbox" id="pullUp" name="pullUp">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="fec" style="display: inline-block; width: 150px;">FEC:</label>
                <input type="checkbox" id="fec" name="fec">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="power" style="display: inline-block; width: 150px;">Power Level:</label>
                <select id="power" name="power" style="width: 200px;">
                    <option value="0">1W (30 dBm)</option>
                    <option value="1">500mW (27 dBm)</option>
                    <option value="2">250mW (24 dBm)</option>
                    <option value="3">125mW (21 dBm)</option>
                </select>
            </div>

            <button type="button" onclick="submitLoRaConfig()">Submit</button>
        </form>
    </div>

    <div id="modbusConfig" class="tab-content">
        <h2>Modbus Configuration</h2>
        <form id="modbusConfigForm">
            <div style="margin-bottom: 10px;">
            <label for="role" style="display: inline-block; width: 150px;">Role:</label>
            <select id="role" name="role" style="width: 200px;">
                <option value="master">Master</option>
                <option value="slave">Slave</option>
            </select>
            </div>

            <div style="margin-bottom: 10px;">
            <label for="com" style="display: inline-block; width: 150px;">Communication (Com):</label>
            <select id="com" name="com" style="width: 200px;">
                <option value="TCP/IP">TCP/IP</option>
                <option value="RS485">RS485</option>
            </select>
            </div>
            <div style="margin-bottom: 10px;">
                <table id="tagsTable">
                    <thead>
                        <tr>
                            <th>Tag</th>
                            <th>Value</th>
                            <th>Type</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><input type="text" name="tags[]" placeholder="1101" required></td>
                            <td><input type="text" name="values[]" placeholder="164" required></td>
                            <td><input type="text" name="types[]" placeholder="2" required></td>
                            <td><button type="button" onclick="deleteRow(this)">Delete</button></td>
                        </tr>
                    </tbody>
                </table>
                <button type="button" onclick="addRow()">Add Row</button>
            </div>

            <script>
                function addRow() {
                    const table = document.getElementById('tagsTable').getElementsByTagName('tbody')[0];
                    const rowCount = table.rows.length;

                    if (rowCount >= 120) {
                        alert('Maximum of 120 rows allowed.');
                        return;
                    }

                    const newRow = table.insertRow();
                    newRow.innerHTML = `
                        <td><input type="number" name="tags[]" placeholder="1101" required></td>
                        <td><input type="number" name="values[]" placeholder="164" required></td>
                        <td><input type="number" name="types[]" placeholder="2" required></td>
                        <td><button type="button" onclick="deleteRow(this)">Delete</button></td>
                    `;
                }

                function deleteRow(button) {
                    const row = button.parentElement.parentElement;
                    row.parentElement.removeChild(row);
                }
            </script>
            <div style="margin-bottom: 10px;">
            <label for="id" style="display: inline-block; width: 150px;">Modbus Slave ID:</label>
            <input type="number" id="id" name="id" min="1" max="255" required style="width: 200px;">
            </div>

            <div style="margin-bottom: 10px;">
            <label for="slaveip" style="display: inline-block; width: 150px;">Slave IP:</label>
            <input type="text" id="slaveip" name="slaveip" placeholder="192,168,1,100" required style="width: 200px;">
            </div>
            <button type="button" onclick="submitConfig()">Submit</button>
        </form>

        <p id="responseMessage" style="margin-top: 20px; color: green;"></p>
    </div>

    <div id="fileManager" class="tab-content">
        <h2>File Manager</h2>
        <div class="file-list">
            <h3>Uploaded Files</h3>
            <table>
                <thead>
                    <tr>
                        <th>File Name</th>
                        <th>Action</th>
                    </tr>
                </thead>
                <tbody id="fileList"></tbody>
            </table>
        </div>
        <div class="upload-section">
            <h3>Upload File</h3>
            <input type="file" id="fileInput">
            <button onclick="uploadFile()">Upload</button>
        </div>
    </div>
    <div id="meshConfig" class="tab-content active">
        <div style="display: flex; gap: 20px;">
            <!-- Configuration Card -->
            <div style="flex: 1; border: 1px solid #ddd; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
                <h2>Mesh Network Configuration</h2>
                <form id="meshConfigForm">
                    <div style="margin-bottom: 10px;">
                        <label for="boardModel" style="display: inline-block; width: 150px;">Board Model:</label>
                        <select id="boardModel" name="boardModel" style="width: 200px;">
                            <option value="0">Board ModRTUMesh</option>
                            <option value="1">Board 410WER</option>
                            <option value="2">Board LklineGw</option>
                            <option value="3">Board LklineNode</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="brokerAddress" style="display: inline-block; width: 150px;">Broker MAC Address:</label>
                        <input type="text" id="brokerAddress" name="brokerAddress" placeholder="FF:FF:FF:FF:FF:FF" style="width: 200px;">
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="wifiChannel" style="display: inline-block; width: 150px;">WiFi Channel:</label>
                        <select id="wifiChannel" name="wifiChannel" style="width: 200px;">
                            <option value="1">Channel 1</option>
                            <option value="2">Channel 2</option>
                            <option value="3">Channel 3</option>
                            <option value="4">Channel 4</option>
                            <option value="5">Channel 5</option>
                            <option value="6">Channel 6</option>
                            <option value="7">Channel 7</option>
                            <option value="8">Channel 8</option>
                            <option value="9">Channel 9</option>
                            <option value="10">Channel 10</option>
                            <option value="11">Channel 11</option>
                            <option value="12">Channel 12</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="nodeId" style="display: inline-block; width: 150px;">Node ID:</label>
                        <input type="number" id="nodeId" name="nodeId" placeholder="Enter Node ID" style="width: 200px;">
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="netId" style="display: inline-block; width: 150px;">Network ID:</label>
                        <input type="number" id="netId" name="netId" placeholder="Enter Network ID" style="width: 200px;">
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="meshrole" style="display: inline-block; width: 150px;">Role:</label>
                        <select id="meshrole" name="meshrole" style="width: 200px;">
                            <option value="Broker">Broker</option>
                            <option value="Node">Node</option>
                            <option value="Repeater">Repeater</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="debug" style="display: inline-block; width: 150px;">Debug:</label>
                        <input type="checkbox" id="debug" name="debug">
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="loraEnb" style="display: inline-block; width: 150px;">LoRa enable:</label>
                        <input type="checkbox" id="loraEnb" name="loraEnb">
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="macSlaves" style="display: inline-block; width: 150px;">Slave MAC Addresses:</label>
                        <input type="text" id="macSlaves" name="macSlaves" placeholder="Comma-separated MACs" style="width: 200px;">
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="classDataRequest" style="display: inline-block; width: 150px;">Class Data Request:</label>
                        <select id="classDataRequest" name="classDataRequest" style="width: 200px;">
                            <option value="A">Class A</option>
                            <option value="B">Class B</option>
                            <option value="C">Class C</option>
                        </select>
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="communicationTime" style="display: inline-block; width: 150px;">Communication Time (ClassB):</label>
                        <input type="number" id="communicationTime" name="communicationTime" placeholder="Enter Time (ms)" style="width: 200px;" min="0">
                    </div>
                    <div style="margin-bottom: 10px;">
                        <label for="dataVersion" style="display: inline-block; width: 150px;">Data Version:</label>
                        <select id="dataVersion" name="dataVersion" style="width: 200px;">
                            <option value="0">Lookline v1</option>
                            <option value="1">Lookline v2</option>
                            <option value="2">Modbus Register</option>
                            <option value="3">Serial TTL</option>
                        </select>
                    </div>
                    <button type="button" onclick="submitMeshConfig()">Submit</button>
                </form>
            </div>

            <!-- Dashboard Card -->
             
            <div style="flex: 2; border: 1px solid #ddd; padding: 20px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);">
                
            <div id="socketStatus" style="width: 100%; display: flex; justify-content: space-between; align-items: center;font-size: 14px; margin-bottom: 10px; font-weight: bold; color: red; text-align: center;">Disconnected</div>
                <div id="nodeDashboard" style="display: flex; flex-wrap: wrap; gap: 20px;">
                    
                    <!-- Example Node Card -->
                    <!-- Node cards will be dynamically generated here -->
                </div>
            </div>
        </div>
    </div>
    <div id="wifiConfig" class="tab-content">
        <h2>WiFi Configuration</h2>
        <form id="wifiConfigForm">
            <div style="margin-bottom: 10px;">
                <label for="wifiMode" style="display: inline-block; width: 150px;">WiFi Mode:</label>
                <select id="wifiMode" name="wifiMode" style="width: 200px;">
                    <option value="STA">Station (STA)</option>
                    <option value="AP">Access Point (AP)</option>
                </select>
            </div>
            <div style="margin-bottom: 10px;">
                <label for="ssid" style="display: inline-block; width: 150px;">SSID:</label>
                <input type="text" id="ssid" name="ssid" placeholder="Enter SSID" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="password" style="display: inline-block; width: 150px;">Password:</label>
                <input type="password" id="password" name="password" placeholder="Enter Password" style="width: 200px;">
            </div>
            <hr style="margin: 20px 0; border: 1px solid #ddd;">

            <h2>MQTT Configuration</h2>
            <div style="margin-bottom: 10px;">
                <label for="mqttEnable" style="display: inline-block; width: 150px;">Enable MQTT:</label>
                <input type="checkbox" id="mqttEnable" name="mqttEnable">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttHost" style="display: inline-block; width: 150px;">MQTT Host:</label>
                <input type="text" id="mqttHost" name="mqttHost" placeholder="Enter MQTT Host" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttPort" style="display: inline-block; width: 150px;">MQTT Port:</label>
                <input type="number" id="mqttPort" name="mqttPort" placeholder="Enter MQTT Port" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttUser" style="display: inline-block; width: 150px;">MQTT User:</label>
                <input type="text" id="mqttUser" name="mqttUser" placeholder="Enter MQTT User" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttPass" style="display: inline-block; width: 150px;">MQTT Password:</label>
                <input type="password" id="mqttPass" name="mqttPass" placeholder="Enter MQTT Password" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="conId" style="display: inline-block; width: 150px;">Connection ID:</label>
                <input type="text" id="conId" name="conId" placeholder="Enter Connection ID" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="topicPush" style="display: inline-block; width: 150px;">Topic Push:</label>
                <input type="text" id="topicPush" name="topicPush" placeholder="Enter Topic Push" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="topicSub" style="display: inline-block; width: 150px;">Topic Subscribe:</label>
                <input type="text" id="topicSub" name="topicSub" placeholder="Enter Topic Subscribe" style="width: 200px;">
            <div style="margin-bottom: 10px;">
                <label for="mqttKeepAlive" style="display: inline-block; width: 150px;">MQTT Keep Alive:</label>
                <input type="number" id="mqttKeepAlive" name="mqttKeepAlive" placeholder="Enter Keep Alive" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttCleanSession" style="display: inline-block; width: 150px;">Clean Session:</label>
                <input type="checkbox" id="mqttCleanSession" name="mqttCleanSession">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttQos" style="display: inline-block; width: 150px;">MQTT QoS:</label>
                <select id="mqttQos" name="mqttQos" style="width: 200px;">
                    <option value="0">QoS 0</option>
                    <option value="1">QoS 1</option>
                    <option value="2">QoS 2</option>
                </select>
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttLwtTopic" style="display: inline-block; width: 150px;">MQTT Retain:</label>
                <input type="checkbox" id="mqttRetain" name="mqttRetain">
            </div>
        </br>
            <div style="margin-bottom: 10px;">
                <label for="mqttLwtTopic" style="display: inline-block; width: 150px;">LWT Topic:</label>
                <input type="text" id="mqttLwtTopic" name="mqttLwtTopic" placeholder="Enter LWT Topic" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttLwtMessage" style="display: inline-block; width: 150px;">LWT Message:</label>
                <input type="text" id="mqttLwtMessage" name="mqttLwtMessage" placeholder="Enter LWT Message" style="width: 200px;">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttLwtQos" style="display: inline-block; width: 150px;">LWT QoS:</label>
                <select id="mqttLwtQos" name="mqttLwtQos" style="width: 200px;">
                    <option value="0">QoS 0</option>
                    <option value="1">QoS 1</option>
                    <option value="2">QoS 2</option>
                </select>
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttLwtRetain" style="display: inline-block; width: 150px;">LWT Retain:</label>
                <input type="checkbox" id="mqttLwtRetain" name="mqttLwtRetain">
            </div>
            <div style="margin-bottom: 10px;">
                <label for="mqttLwtEnabled" style="display: inline-block; width: 150px;">LWT Enabled:</label>
                <input type="checkbox" id="mqttLwtEnabled" name="mqttLwtEnabled">
            </div>
        </br>
        <hr style="margin: 20px 0; border: 1px solid #ddd;">
        <div style="margin-bottom: 10px;">
            <label for="timezone" style="display: inline-block; width: 150px;">Timezone:</label>
            <select id="timezone" name="timezone" style="width: 200px;">
                <option value="0">UTC</option>
                <option value="1">UTC+1</option>
                <option value="2">UTC+2</option>
                <option value="3">UTC+3</option>
                <option value="4">UTC+4</option>
                <option value="5">UTC+5</option>
                <option value="6">UTC+6</option>
                <option value="7">UTC+7</option>
                <option value="8">UTC+8</option>
                <option value="9">UTC+9</option>
                <option value="10">UTC+10</option>
                <option value="11">UTC+11</option>
                <option value="12">UTC+12</option>
                <option value="-1">UTC-1</option>
                <option value="-2">UTC-2</option>
                <option value="-3">UTC-3</option>
                <option value="-4">UTC-4</option>
                <option value="-5">UTC-5</option>
                <option value="-6">UTC-6</option>
                <option value="-7">UTC-7</option>
                <option value="-8">UTC-8</option>
                <option value="-9">UTC-9</option>
                <option value="-10">UTC-10</option>
                <option value="-11">UTC-11</option>
                <option value="-12">UTC-12</option>
            </select>
        </div>
        <button type="button" onclick="submitWiFiMQTTConfig()">Update</button>
        </form>
    </div>

</CENTER>
    <script>

            var gateway = `ws://${window.location.hostname}/ws`;
            var websocket;
            window.addEventListener('load', onLoad);

            function initWebSocket() {
                console.log('Trying to open a WebSocket connection...');
                websocket = new WebSocket(gateway);
                websocket.onopen    = onOpen;
                websocket.onclose   = onClose;
                websocket.onmessage = onMessage; // <-- add this line
            }

            function onOpen(event) {
                console.log('WebSocket connection established.');
                updateSocketStatus(true);
                websocket.send(JSON.stringify({ type: 'subscribe', topic: 'nodeDashboard' }));
            }
            function onClose(event) {
                console.log('Connection closed');
                setTimeout(initWebSocket, 2000);
            }

            function onLoad(event) {
                initWebSocket();
            }
            
            function onMessage(event){
                    console.log('Received:', event.data);
                if((event.data[0] == '[' || event.data[0] == '{') && event.data != "undefined"){
                    const data = JSON.parse(event.data);
                    console.log('Received data:', data);
                    loadNodeDashboard(event.data);
                    document.getElementById('jsonMappingData').value = event.data;
                }
            };
            
            // websocket.onerror = (error) => {
            //     console.error('WebSocket error:', error);
            // };

            function onClose(){
                console.log('WebSocket connection closed.');
                updateSocketStatus(false);
                setTimeout(initWebSocket, 2000);
            }
            
        function updateSocketStatus(connected) {
            let statusElement = document.getElementById('socketStatus');
            if (!statusElement) {
                statusElement = document.createElement('div');
                statusElement.id = 'socketStatus';
                statusElement.style.fontWeight = 'bold';
                statusElement.style.textAlign = 'center';
                document.body.prepend(statusElement);
            }
            statusElement.textContent = connected ? 'Connected' : 'Disconnected';
            statusElement.style.color = connected ? 'green' : 'red';
        }
        function loadDataMapping() {
            fetch('/data-mapping')
                .then(response => response.json())
                .then(data => {
                    const jsonData = JSON.stringify(data, null, 2); // Format JSON with indentation
                    document.getElementById('jsonMappingDatas').value = jsonData;
                    console.log('Loaded data mapping:', data);
                })
                .catch(error => console.error('Error loading data mapping:', error));
        }

        function saveDataMapping() {
            const jsonData = document.getElementById('jsonMappingDatas').value;
            try {
                const parsedData = JSON.parse(jsonData); // Validate JSON format
                fetch('/save-data-mapping', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(parsedData),
                })
                    .then(response => response.json())
                    .then(data => {
                        console.log('Saved data mapping:', data);
                        alert(data.status || 'Data mapping saved successfully!');
                    })
                    .catch(error => console.error('Error saving data mapping:', error));
            } catch (error) {
                alert('Invalid JSON format. Please correct it and try again.');
                console.error('JSON Parsing Error:', error);
            }
        }

        function loadNodeDashboard(JsonData) {
            let nodes = [];
            try {
                nodes = JSON.parse(JsonData);
            } catch (error) {
                console.error("Invalid JSON data:", error);
                return;
            }
            try {
                nodes = JSON.parse(JsonData);
            } catch (error) {
                console.error("Invalid JSON data:", error);
                return;
            }
            
            const dashboard = document.getElementById('nodeDashboard');
            dashboard.innerHTML = "\
            <div style=\"width: 100%; display: flex; justify-content: space-between; align-items: center; background-color: #f4f4f4; padding: 10px; border-radius: 8px; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\">\
                        <h3 style=\"margin: 0;\">Node Dashboard</h3>\
                        <div style=\"font-size: 14px; color: #555;\">Manage and monitor your nodes</div>\
                    </div>\
                        ";

            nodes.forEach(node => {
                // createDynamicTable(node.nodeId, node.data);
                const card = document.createElement('div');
                card.style.border = '1px solid #ddd';
                card.style.padding = '15px';
                card.style.borderRadius = '8px';
                card.style.boxShadow = '0 2px 4px rgba(0, 0, 0, 0.1)';
                card.style.width = 'calc(33% - 20px)';
                card.style.boxSizing = 'border-box';

                card.innerHTML = `
                    <h3>Node ${node.nodeId}</h3>
                    <p><strong>MAC:</strong> ${node.mac}</p>
                    <p><strong>Net ID:</strong> ${node.netId}</p>
                    <p><strong>Success Rate:</strong> ${node.successRate}</p>
                    <p><strong>Last Seen:</strong> ${node.timeAgo}</p>
                `;

                dashboard.appendChild(card);
            });

            nodes.forEach(node => {
                const nodeId = node.nodeId;
                const dataSize = Math.min(node.data.length, 200); // Limit to 200 bytes
                const keyData = node.keys || Array.from({ length: type }, (_, i) => `Key${i + 1}`);
                const typeData = node.type || Array.from({ length: type }, () => '-');
                if (!document.getElementById(`node_${nodeId}_dataTable`)) {
                    createNodeDataTable(nodeId, dataSize, keyData, typeData);
                }

                const formattedData = [];
                let dataIndex = 0;

                node.type.forEach(type => {
                    if (type === "COILS") {
                        formattedData.push(node.data[dataIndex] ? 1 : 0);
                        dataIndex += 1;
                    } else if (type === "WORD") {
                        const word = (node.data[dataIndex] << 8) | node.data[dataIndex + 1];
                        formattedData.push(word);
                        dataIndex += 2;
                    } else if (type === "DWORD") {
                        const dword = (node.data[dataIndex] << 24) | (node.data[dataIndex + 1] << 16) | (node.data[dataIndex + 2] << 8) | node.data[dataIndex + 3];
                        formattedData.push(dword);
                        dataIndex += 4;
                    } else if (type === "FLOAT") {
                        const buffer = new ArrayBuffer(4);
                        const view = new DataView(buffer);
                        view.setUint8(0, node.data[dataIndex]);
                        view.setUint8(1, node.data[dataIndex + 1]);
                        view.setUint8(2, node.data[dataIndex + 2]);
                        view.setUint8(3, node.data[dataIndex + 3]);
                        formattedData.push(view.getFloat32(0));
                        dataIndex += 4;
                    }
                });

                updateNodeData(nodeId, formattedData);
            });
            // });
            // };

        }
        function createNodeDataTable(nodeId, dataSize, keyData, typeData) {
            const container = document.getElementById('nodeDataTables');
            const tableDiv = document.createElement('div');
            tableDiv.style.marginBottom = '20px';

            tableDiv.innerHTML = `
                <h3>Node ${nodeId} Data</h3>
                <table id="node_${nodeId}_dataTable" style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr>
                            <th>Index</th>
                            <th>Key</th>
                            <th>Type</th>
                            <th>Data</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${Array.from({ length: dataSize }, (_, i) => `
                            <tr>
                                <td>${i}</td>
                                <td>${keyData && keyData[i] ? keyData[i] : '-'}</td>
                                <td>${typeData && typeData[i] ? typeData[i] : '-'}</td>
                                <td id="node_${nodeId}_data_${i}">-</td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;

            container.appendChild(tableDiv);
            }

            function updateNodeData(nodeId, data) {
                data.forEach((value, index) => {
                    const cell = document.getElementById(`node_${nodeId}_data_${index}`);
                    if (cell) {
                        cell.textContent = value;
                    }
                });
            }
         // Tab switching logic
         function showTab(tabId) {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');

            tabs.forEach(tab => tab.classList.remove('active'));
            contents.forEach(content => content.classList.remove('active'));

            document.querySelector(`#${tabId}`).classList.add('active');
            document.querySelector(`.tab[onclick="showTab('${tabId}')"]`).classList.add('active');
        }

        function loadWiFiMQTTConfig() {
        fetch('/load-wifi-mqtt-config/')
            .then(response => response.json())
            .then(data => {
                // Populate WiFi Configuration
                document.getElementById('wifiMode').value = data.wifiMode || 'STA';
                document.getElementById('ssid').value = data.ssid || '';
                document.getElementById('password').value = data.password || '';

                // Populate MQTT Configuration
                document.getElementById('mqttHost').value = data.mqttHost || '';
                document.getElementById('mqttPort').value = data.mqttPort || '';
                document.getElementById('mqttUser').value = data.mqttUser || '';
                document.getElementById('mqttPass').value = data.mqttPass || '';
                document.getElementById('conId').value = data.conId || '';
                document.getElementById('topicPush').value = data.topicPush || '';
                document.getElementById('topicSub').value = data.topicSub || '';
                document.getElementById('mqttKeepAlive').value = data.mqttKeepAlive || '';
                document.getElementById('mqttCleanSession').checked = data.mqttCleanSession || false;
                document.getElementById('mqttQos').value = data.mqttQos || '0';
                document.getElementById('mqttRetain').checked = data.mqttRetain || false;
                document.getElementById('mqttLwtTopic').value = data.mqttLwtTopic || '';
                document.getElementById('mqttLwtMessage').value = data.mqttLwtMessage || '';
                document.getElementById('mqttLwtQos').value = data.mqttLwtQos || '0';
                document.getElementById('mqttLwtRetain').checked = data.mqttLwtRetain || false;
                document.getElementById('mqttLwtEnabled').checked = data.mqttLwtEnabled || false;
                document.getElementById('mqttEnable').checked = data.mqttEnable || false; // Set the checkbox state
                document.getElementById('timezone').value = data.timezone || 'UTC+00:00';
            })
            .catch(error => console.error('Error loading WiFi and MQTT config:', error));
        }

        // Submit WiFi and MQTT Configuration
        function submitWiFiMQTTConfig() {
            const wifiConfig = {
                wifiMode: document.getElementById('wifiMode').value,
                ssid: document.getElementById('ssid').value,
                password: document.getElementById('password').value,
            };

            const mqttConfig = {
                mqttHost: document.getElementById('mqttHost').value,
                mqttPort: parseInt(document.getElementById('mqttPort').value),
                mqttUser: document.getElementById('mqttUser').value,
                mqttPass: document.getElementById('mqttPass').value,
                conId: document.getElementById('conId').value,
                topicPush: document.getElementById('topicPush').value,
                topicSub: document.getElementById('topicSub').value,
                mqttKeepAlive: parseInt(document.getElementById('mqttKeepAlive').value),
                mqttCleanSession: document.getElementById('mqttCleanSession').checked,
                mqttQos: parseInt(document.getElementById('mqttQos').value),
                mqttRetain: document.getElementById('mqttRetain').checked,
                mqttLwtTopic: document.getElementById('mqttLwtTopic').value,
                mqttLwtMessage: document.getElementById('mqttLwtMessage').value,
                mqttLwtQos: parseInt(document.getElementById('mqttLwtQos').value),
                mqttLwtRetain: document.getElementById('mqttLwtRetain').checked,
                mqttLwtEnabled: document.getElementById('mqttLwtEnabled').checked,
                mqttEnable: document.getElementById('mqttEnable').checked, // Get the checkbox state
                timezone: document.getElementById('timezone').value
            };

            const combinedConfig = { ...wifiConfig, ...mqttConfig };

            console.log('Submitting combined config:', combinedConfig);

            fetch('/save-wifi-mqtt-config/', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify(combinedConfig),
            })
                .then(response => response.json())
                .then(data => {
                    console.log('Response from server:', data);
                    alert(data.status || 'Configuration saved successfully!');
                })
                .catch(error => console.error('Error submitting WiFi and MQTT config:', error));
        }
        // Function to update form values from ESP data
        function updateFormFromESP(data) {
                // Cập nhật các trường đơn lẻ
                document.getElementById('role').value = data.role || 'master';
                document.getElementById('com').value = data.Com || 'TCP/IP';
                document.getElementById('id').value = data.id || '';
                document.getElementById('slaveip').value = data.slaveip ? data.slaveip.join(',') : '';

                // Cập nhật bảng tagsTable
                const tableBody = document.getElementById('tagsTable').getElementsByTagName('tbody')[0];
                tableBody.innerHTML = ''; // Xóa tất cả các hàng hiện tại

                if (data.Tag && data.Value && data.Type) {
                    for (let i = 0; i < data.Tag.length; i++) {
                        const newRow = tableBody.insertRow();
                        newRow.innerHTML = `
                            <td><input type="number" name="tags[]" value="${data.Tag[i]}" required></td>
                            <td><input type="number" name="values[]" value="${data.Value[i]}" required></td>
                            <td><input type="number" name="types[]" value="${data.Type[i]}" required></td>
                            <td><button type="button" onclick="deleteRow(this)">Delete</button></td>
                        `;
                    }
                }
            }

            // Fetch configuration from ESP on page load
            fetch('/load-modbus-config')
            .then(response => response.json())
            .then(data => updateFormFromESP(data))
            .catch(error => console.error('Error fetching configuration from ESP:', error));
        // Submit Mesh Network Configuration
        // function submitMeshConfig() {
        //     const meshConfig = {
        //         type: "ConfigPacket",
        //         mac: "FF:FF:FF:FF:FF:FF", // Thay bằng giá trị MAC thực tế nếu cần
        //         node_id: parseInt(document.getElementById('meshNodeId').value) || 1,
        //         chan: parseInt(document.getElementById('meshChannel').value) || 1,
        //         regBit: parseInt(document.getElementById('meshRegBit').value) || 170,
        //         reg8: parseInt(document.getElementById('meshReg8').value) || 255,
        //         reg16: parseInt(document.getElementById('meshReg16').value) || 65535,
        //         role: document.getElementById('meshRole').value || "Broker",
        //         ssid: document.getElementById('meshSSID').value || "I-Soft",
        //         password: document.getElementById('meshPassword').value || "i-soft@2023",
        //         macAddresses: document.getElementById('meshMacAddresses').value.split(',').map(mac => mac.trim()) || [],
        //         model: document.getElementById('meshModel').value || "V15",
        //         netId: document.getElementById('meshNetId').value || "101",
        //         boardModel: document.getElementById('boardModel').value || "0"
        //     };

        //     console.log('Submitting Mesh Network config:', meshConfig);

        //     fetch('/save-mesh-config/', {
        //         method: 'POST',
        //         headers: {
        //             'Content-Type': 'application/json',
        //         },
        //         body: JSON.stringify(meshConfig),
        //     })
        //         .then(response => response.json())
        //         .then(data => {
        //             console.log('Response from server:', data);
        //             alert(data.status || 'Mesh Network configuration saved successfully!');
        //         })
        //         .catch(error => console.error('Error submitting Mesh Network config:', error));
        // }
        // Function to submit Mesh Configuration
        function submitMeshConfig() {
            const form = document.getElementById('meshConfigForm');
            const meshConfig = {
                BrokerAddress: form.brokerAddress.value, // Save MAC address as a string
                wifiChannel: parseInt(form.wifiChannel.value),
                id: parseInt(form.nodeId.value),
                netId: parseInt(form.netId.value),
                role: form.meshrole.value,
                debug: form.debug.checked,
                macSlaves: form.macSlaves.value.split(',').map(mac => mac.trim()), // Split and trim MAC addresses
                dataVersion: parseInt(form.dataVersion.value),
                boardModel: form.boardModel.value,
                classDataRequest: form.classDataRequest.value,
                communicationTime: parseInt(form.communicationTime.value) || 0, // Default to 0 if not provided
                loraEnb: form.loraEnb.checked
            };

            console.log('Submitting Mesh config:', meshConfig);

            fetch('/save-mesh-config', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(meshConfig)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Response from server:', data);
                alert(data.status || 'Mesh configuration saved successfully!');
            })
            .catch(error => console.error('Error submitting Mesh config:', error));
        }

        // Function to load Mesh Configuration
        function loadMeshConfig() {
            fetch('/load-mesh-config')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('brokerAddress').value = data.BrokerAddress;
                    document.getElementById('wifiChannel').value = data.wifiChannel || '';
                    document.getElementById('nodeId').value = data.id || '';
                    document.getElementById('netId').value = data.netId || '';
                    document.getElementById('meshrole').value = data.role || 'Node';
                    document.getElementById('debug').checked = data.debug || false;
                    document.getElementById('macSlaves').value = data.macSlaves ? data.macSlaves.join(',') : '';
                    document.getElementById('dataVersion').value = data.dataVersion || 0;
                    document.getElementById('boardModel').value = data.boardModel || ''; 
                    document.getElementById('classDataRequest').value = data.classDataRequest || 'A';
                    document.getElementById('communicationTime').value = data.communicationTime || 0; // Default to 0 if not provided
                    document.getElementById('loraEnb').checked = data.loraEnb || false;
                })
                .catch(error => console.error('Error loading Mesh config:', error));
        }
        

        // Call loadWiFiMQTTConfig when the page loads
        window.onload = function () {
            loadWiFiMQTTConfig();
            loadMeshConfig();
            loadLoRaRYConfig();
            loadDataMapping();
            // loadNodeDashboard();
        };


        // Submit Modbus Configuration
        function submitConfig() {
            const form = document.getElementById('modbusConfigForm');
            const role = form.role.value;
            const com = form.com.value;
            const id = parseInt(form.id.value);
            const slaveip = form.slaveip.value.split(',').map(Number);const tags = Array.from(document.querySelectorAll('input[name="tags[]"]')).map(input => parseInt(input.value)); // Chuyển đổi Tag thành số
            const values = Array.from(document.querySelectorAll('input[name="values[]"]')).map(input => parseInt(input.value)); // Chuyển đổi Value thành số
            const types = Array.from(document.querySelectorAll('input[name="types[]"]')).map(input => parseInt(input.value)); // Chuyển đổi Type thành số

            const config = {
                role: role,
                Com: com,
                id: id,
                slaveip: slaveip,
                Tag: tags,
                Value: values,
                Type: types
            };

            console.log('Submitting config:', config);

            fetch('/modbus-config', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(config) // Chuyển đổi đối tượng thành chuỗi JSON
            })
            .then(response => response.json())
            .then(data => {
                console.log('Response from server:', data);
                document.getElementById('responseMessage').textContent = data.status || 'Configuration saved successfully!';
            })
            .catch(error => {
                console.error('Error submitting config:', error);
                document.getElementById('responseMessage').textContent = 'Error: ' + error.message;
                document.getElementById('responseMessage').style.color = 'red';
            });
        }

        // Fetch and display the list of files
        function fetchFileList() {
            fetch('/list-files')
            .then(response => response.json())
            .then(files => {
                const fileList = document.getElementById('fileList');
                fileList.innerHTML = '';
                files.forEach(file => {
                const row = document.createElement('tr');
                const fileNameCell = document.createElement('td');
                fileNameCell.textContent = file;
                const actionCell = document.createElement('td');
                const deleteButton = document.createElement('button');
                deleteButton.innerHTML = '<i class="fa fa-trash"></i> Delete';
                deleteButton.style.backgroundColor = '#f44336';
                deleteButton.style.color = 'white';
                deleteButton.onclick = () => deleteFile(file);
                actionCell.appendChild(deleteButton);
                row.appendChild(fileNameCell);
                row.appendChild(actionCell);
                fileList.appendChild(row);
                });
            })
            .catch(error => console.error('Error fetching file list:', error));
        }

        // Update styles for Upload and Submit buttons
        document.querySelector('button[onclick="uploadFile()"]').innerHTML = '<i class="fa fa-upload"></i> Upload';
        document.querySelector('button[onclick="uploadFile()"]').style.backgroundColor = '#2196F3';
        document.querySelector('button[onclick="uploadFile()"]').style.color = 'white';

        document.querySelector('button[onclick="submitConfig()"]').innerHTML = '<i class="fa fa-paper-plane"></i> Submit';
        document.querySelector('button[onclick="submitConfig()"]').style.backgroundColor = '#2196F3';
        document.querySelector('button[onclick="submitConfig()"]').style.color = 'white';

        // Upload a file
        function uploadFile() {
            const fileInput = document.getElementById('fileInput');
            const file = fileInput.files[0];
            if (!file) {
                alert('Please select a file to upload.');
                return;
            }

            const formData = new FormData();
            formData.append('file', file);

            fetch('/upload', {
                method: 'POST',
                body: formData
            })
                .then(response => {
                    if (response.ok) {
                        alert('File uploaded successfully.');
                        fetchFileList();
                    } else {
                        alert('Failed to upload file.');
                    }
                })
                .catch(error => console.error('Error uploading file:', error));
        }

        // Delete a file
        function deleteFile(fileName) {
            fetch(`/delete?file=${encodeURIComponent(fileName)}`, {
                method: 'DELETE'
            })
                .then(response => {
                    if (response.ok) {
                        alert('File deleted successfully.');
                        fetchFileList();
                    } else {
                        alert('Failed to delete file.');
                    }
                })
                .catch(error => console.error('Error deleting file:', error));
        }

        // Fetch the file list on page load
        fetchFileList();

         // Load LoRa RY Configuration
        function loadLoRaRYConfig() {
            fetch('/load-lora-config')
                .then(response => response.json())
                .then(data => {
                //     document.getElementById('ryMode').value = data.mode || '0';
                //     document.getElementById('ryRxTime').value = data.rxTime || '';
                //     document.getElementById('ryLowSpeedTime').value = data.lowSpeedTime || '';
                //     document.getElementById('ryBand').value = data.band || '';
                //     document.getElementById('ryPower').value = data.power || '';
                //     document.getElementById('ryAddress').value = data.address || '';
                //     document.getElementById('ryNetworkId').value = data.networkId || '';
                    // document.getElementById('LoRaEnable').checked = data.LoRaEnable || false;
                })
                .catch(error => console.error('Error loading LoRa RY config:', error));
        }

        // Submit LoRa RY Configuration
        function submitLoRaRYConfig() {
            const form = document.getElementById('loraRYConfigForm');
            const loraRYConfig = {
                LoRaEnable: document.getElementById('LoRaEnable').checked,
                mode: parseInt(form.ryMode.value),
                rxTime: parseInt(form.ryRxTime.value),
                lowSpeedTime: parseInt(form.ryLowSpeedTime.value),
                band: parseInt(form.ryBand.value),
                power: parseInt(form.ryPower.value),
                address: parseInt(form.ryAddress.value),
                networkId: parseInt(form.ryNetworkId.value)
            };

            console.log('Submitting LoRa RY config:', loraRYConfig);

            fetch('/configure-lora', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(loraRYConfig)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Response from server:', data);
                alert(data.status || 'LoRa RY configuration saved successfully!');
            })
            .catch(error => console.error('Error submitting LoRa RY config:', error));
        }
        
        function submitLoRaConfig() {
            const form = document.getElementById('loraConfigForm');
            const loraConfig = {
                address: parseInt(form.address.value),
                uart_speed: form.uartSpeed.value,
                air_data_rate: form.airRate.value,
                channel: parseInt(form.channel.value),
                transmission_mode: form.transmissionMode.value,
                pull_up: form.pullUp.checked,
                fec: form.fec.checked,
                power: parseInt(form.power.value)
            };

            console.log('Submitting LoRa E32 config:', loraConfig);

            fetch('/configure-e32', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(loraConfig)
            })
            .then(response => response.json())
            .then(data => {
                console.log('Response from server:', data);
                alert(data.status || 'LoRa E32 configuration saved successfully!');
            })
            .catch(error => console.error('Error submitting LoRa E32 config:', error));
        }
    </script>
</body>
</html>